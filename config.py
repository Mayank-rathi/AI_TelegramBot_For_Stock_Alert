# === Bot Configuration ===
BOT_TOKEN = "#"
CHAT_ID = "#"

# === Chartink Configuration ===
CHARTINK_URL = "https://chartink.com/screener/process"
SCAN_CLAUSE = {
    "scan_clause": """
(latest close / 50 days ago open < 1.58 and latest close / 60 days ago open < 1.65 and latest close / 40 days ago open < 1.4 and latest close / 30 days ago open < 1.4 and latest high / 20 days ago open < 1.4 and latest high / 21 days ago low < 1.4 and latest high / 22 days ago low < 1.4 and latest high / 23 days ago low < 1.4 and latest high / 24 days ago low < 1.4 and latest close / 25 days ago low < 1.4 and latest high / 26 days ago low < 1.4 and latest high / 27 days ago low < 1.4 and latest high / 28 days ago low < 1.4 and latest high / 29 days ago low < 1.4 and latest high / 30 days ago low < 1.4 and latest close / 20 days ago open < 1.4 and latest close / 10 days ago open < 1.4 and latest close / 10 days ago close < 1.35 and latest high / 13 days ago open < 40 and latest high / 14 days ago open < 40 and latest high / 15 days ago open < 40 and latest high / 16 days ago open < 40 and latest close / 4 days ago low < 1.21 and latest high / 4 days ago open < 1.21 and latest high / 4 days ago close < 1.21 and latest high / 5 days ago open < 1.23 and latest high / 5 days ago close < 1.23 and latest high / 2 days ago close < 1.25 and latest high / 1 day ago close < 1.20 and latest high / 1 day ago low < 1.20 and latest close > 1 day ago high * 0.997 and latest close < 7000 and (latest volume >= latest sma(volume,20) * 0.64 and 1 day ago volume >= 1 day ago sma(volume,20) * 0.28 and (latest volume >= latest sma(volume,20) * 2.8 or 1 day ago volume >= 1 day ago sma(volume,20) * 0.8 or 2 days ago volume >= 2 days ago sma(volume,20) * 0.8 or 3 days ago volume >= 3 days ago sma(volume,20) * 0.8 or 4 days ago volume >= 4 days ago sma(volume,20) * 1)) and latest close > latest ema(latest close,10) and latest close > weekly ema(weekly close,40) and latest close > latest ema(latest close,450) and latest high < latest sma(latest close,50) * 1.27 and market cap > 400 and market cap < 300000 and (1 day ago high < 1 day ago sma(latest close,50) * 1.15 or 2 days ago high < 2 days ago sma(latest close,50) * 1.15 or 3 days ago high < 3 days ago sma(latest close,50) * 1.15 or 4 days ago high < 4 days ago sma(latest close,50) * 1.15 or 5 days ago high < 5 days ago sma(latest close,50) * 1.15 or 6 days ago high < 6 days ago sma(latest close,50) * 1.15 or 7 days ago high < 7 days ago sma(latest close,50) * 1.15 or 8 days ago high < 8 days ago sma(latest close,50) * 1.15 or 9 days ago high < 9 days ago sma(latest close,50) * 1.15 or 10 days ago high < 10 days ago sma(latest close,50) * 1.15 or 11 days ago high < 11 days ago sma(latest close,50) * 1.15 or 12 days ago high < 12 days ago sma(latest close,50) * 1.15 or 13 days ago high < 13 days ago sma(latest close,50) * 1.15 or 14 days ago high < 14 days ago sma(latest close,50) * 1.15 or 15 days ago high < 14 days ago sma(latest close,50) * 1.15 or 16 days ago high < 14 days ago sma(latest close,50) * 1.15) and (latest close >= (latest high - latest open * 0.52) + latest open or latest close >= (latest high - latest low * 0.52) + latest low) and latest \"close - 1 candle ago close / 1 candle ago close * 100\" >= 1 and weekly ema(weekly close,10) > weekly ema(weekly close,40) and latest \"close - 1 candle ago close / 1 candle ago close * 100\" < 12 and 1 day ago \"close - 1 candle ago close / 1 candle ago close * 100\" < 4.5 and 1 day ago \"close - 1 candle ago close / 1 candle ago close * 100\" > -2.5 and 2 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" < 7 and 2 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" > -4 and 3 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" < 7 and 3 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" > -7 and 4 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" < 10 and 5 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" < 10 and 6 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" < 10 and 7 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" < 12 and 1 day ago low >= 2 days ago low * .95 and 1 day ago close >= 2 days ago low * .968 and latest high / latest low < 1.15 and 2 days ago high / 2 days ago low < 1.1 and 1 day ago high / 1 day ago low < 1.1 and (latest low < latest ema(latest close,10) or 1 day ago low < 1 day ago ema(latest close,10) or 2 days ago low < 2 days ago ema(latest close,10) or 3 days ago low < 3 days ago ema(latest close,10) or 4 days ago low < 4 days ago ema(latest close,10) or 5 days ago low < 5 days ago ema(latest close,10) or 6 days ago low < 6 days ago ema(latest close,10) or 6 days ago low < 6 days ago sma(latest close,50) or 7 days ago low < 7 days ago sma(latest close,50) or 7 days ago low < 7 days ago ema(latest close,10)) and not (2 days ago close < 2 days ago high * .96 and latest close < 2 days ago high) and not (1 day ago \"close - 1 candle ago close / 1 candle ago close * 100\" > 2 and 2 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" > 2 and 1 day ago high > 2 days ago high and 2 days ago low < 1 day ago low) and not (3 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" < -5 and latest close < 3 days ago high) and (15 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" > -10 and 14 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" > -10 and 13 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" > -10 and 12 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" > -10 and 11 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" > -10 and 10 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" > -10 and 9 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" > -10 and 8 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" > -10 and 7 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" > -10 and 6 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" > -10 and 5 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" > -7 and 2 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" > -7 and 4 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" > -7 or (latest high > 1 day ago max(10, latest high) * 0.96 or latest high > 1 day ago max(15, latest high) * 0.96)) and not (latest high / latest low > 1.07 and latest close > latest sma(latest close,50) and 1 day ago close <= 1 day ago sma(latest close,50)) and latest close * latest volume > 10000000 and 1 day ago close < 1 day ago ema(latest close,10) * 1.08 and not (1 day ago close > 1 day ago ema(latest close,10) and 2 days ago close > 2 days ago ema(latest close,10) and 3 days ago close > 3 days ago ema(latest close,10) and 4 days ago close > 4 days ago ema(latest close,10) and 5 days ago close > 5 days ago ema(latest close,10) and 6 days ago close > 6 days ago ema(latest close,10) and 7 days ago close > 7 days ago ema(latest close,10) and 8 days ago close > 8 days ago ema(latest close,10) and 9 days ago close > 9 days ago ema(latest close,10) and 10 days ago close > 10 days ago ema(latest close,10) and 11 days ago close > 11 days ago ema(latest close,10) and 12 days ago close > 12 days ago ema(latest close,10) and 13 days ago close > 13 days ago ema(latest close,10) and 14 days ago close > 14 days ago ema(latest close,10) and 15 days ago close > 15 days ago ema(latest close,10) and 15 days ago close > 15 days ago ema(latest close,10) and 15 days ago open > 15 days ago ema(latest close,10) and 16 days ago close > 16 days ago ema(latest close,10)) and not (1 day ago high < 2 days ago high and 2 days ago high < 3 days ago high and 1 day ago low < 2 days ago low and 2 days ago low < 3 days ago low and 1 day ago \"close - 1 candle ago close / 1 candle ago close * 100\" < 0 and 2 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" < 0 and 3 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" < 0 and latest close < 3 days ago high) and not (1 day ago high > 2 days ago high and 2 days ago high > 3 days ago high and 3 days ago high > 4 days ago high and 4 days ago high > 5 days ago high and 1 day ago low > 2 days ago low and 2 days ago low > 3 days ago low and 3 days ago low > 4 days ago low and 4 days ago low > 5 days ago low and latest high / 5 days ago low > 1.11) and not (latest high > 1 day ago high and 1 day ago high > 2 days ago high and latest low > 1 day ago low and 1 day ago low > 2 days ago low and latest high / 2 days ago low > 1.11 and 1 day ago \"close - 1 candle ago close / 1 candle ago close * 100\" > 3) and not (latest high > 1 day ago high and 1 day ago high > 2 days ago high and 2 days ago high > 3 days ago high and latest low > 1 day ago low and 1 day ago low > 2 days ago low and 2 days ago low > 3 days ago low and latest high / 3 days ago low > 1.11 and 3 days ago \"close - 1 candle ago close / 1 candle ago close * 100\" > 4) and not (latest close > latest sma(latest close,50) and 1 day ago close <= 1 day ago sma(latest close,50) and latest high / 9 days ago low < 22) and (latest close > latest sma(latest close,50) or (latest close < latest sma(latest close,50) * 0.97 and latest \"close - 1 candle ago close / 1 candle ago close * 100\" < 3)))
    """
}

# === Retry Configuration ===
MAX_RETRIES = 3
RETRY_BACKOFF = 0.5
RETRY_STATUS_FORCELIST = [500, 502, 503, 504]

# === Trading Hours Configuration ===
TRADING_START_HOUR = 9
TRADING_START_MINUTE = 15
TRADING_END_HOUR = 15
TRADING_END_MINUTE = 15
SCAN_INTERVAL_MINUTES = 15 